@include bp(large-up) {
	/* mega menu list */
	.nav-menu {
		display: block;
		/* removing style to allow for full screen width mega menu
		position: relative; */
		list-style: none;
		margin: 0;
		padding: 0;
		z-index: 15;
	}

	/* a top level navigation item in the mega menu */
	.nav-menu .nav-item {
		list-style: none;
		float: left;
		padding: 0;
		margin: 0;
	}

	/* first descendant link within a top level navigation item */
	.nav-item > .nav-item-title > a {
		position: relative;
		width: 100%;
		display: inline-block;
		padding: 14px 7.5px 7.5px;
		margin: 0;
		border-bottom: 7px solid transparent;
		font-size: 14px;
		color: #fff;
		@include font-montserrat;
		text-transform: uppercase;
		text-align: center;
	}

	/* nav item spacing for breakpoints, decreasing spacing as screen gets smaller (desktop) */
	.nav-menu .level-1 {
		display: block;
	}
	.nav-search-bar nav {
		width: 75%;
		float: left;
	}
	.nav-menu .level-1 {
		display: none;
	}

	/* focus/open states of first descendant link within a top level navigation item */
	.nav-item > .nav-item-title > a:focus,
	.nav-item > .nav-item-title > a.open {
		background-color: #fff;
		color: #2f2f2f;
	}

	/* Active state for top level items when you are in that section of the site */
	.nav-item > .nav-item-title > a.active {
		background-color: #fff;
		/* the height of the border bottom (7px) is already set. Here we are only changing its color
		 * from transparent to teal. If the border height ever changes, it's changed in one place, not two.
		 */
		border-bottom-color: #14819b;
		color: #2f2f2f;
	}

	/* open state of first descendant link within a top level navigation item */
	.nav-item > .nav-item-title > a.open {
		/*
		background-color: #fff;
		border-bottom: none;
		*/
		z-index: 1;
	}

	/* sub-navigation panel */
	.sub-nav-mega {
		/* display mega menu over content */
		z-index: 999;
		position: absolute;
		/* make menu the width of the entire nav bar */
		left: 0;
		padding: 0.5em 1em;
		border: 1px solid #dedede;
		@include box-shadow(0 11px 15.2px 0.8px rgba(0, 0, 0, 0.4));
		border-top: none;
		background-color: #fff;
		width: 100%;
		max-height:0;

		opacity: 0;
		visibility: hidden;
		//@include transform(translateY(-15px));
		@include transition(all 500ms ease 500ms);

		/* sub-navigation panel open state */
		&.open {
			max-height:300px;
			opacity: 1;
			visibility: visible;
			//@include transform(translateY(0));
		}
	}

	/* allow mega menu to span full width of screen while keep menu items within limits of content */
	.sub-nav-group-wrapper {
		max-width: 1200px;
		margin: 0 auto;
	}



	/* list of items within sub-navigation panel */
	.sub-nav-mega ul {
		display: inline-block;
		vertical-align: top;
		margin: 0 2% 0 0;
		padding: 0;
		line-height: 1.3em;
	}

	/* make columns out of sub nav groups */
	.sub-nav-mega .sub-nav-group {
		width: 22%;
		/* using pixel value because we don't want this to change if user changes their default computer text size (no ems) */
		margin-bottom: 20px;
	}

	/* mega menu group headers (level 2) */
	.sub-nav-group-header {
		font-size: 1.0625em;
		text-transform: uppercase;
		font-weight: bold;
		color: $color-link;
		display: block;
		@include font-montserrat;
	}
	/* sub nav group header hover color */
	.sub-nav-group-header:hover, .sub-nav-group-header:focus {
		color: #BB0E3D;
	}

	/* vertical line for Cancer Types menu */
	.cancer-types-border-container {
		.sub-nav-mega & { // to override '.sub-nav-mega .sub-nav-group' styling
			width: 66%;
			margin-top:8px;
			border-right: 1px solid #000;
		}
		> li {
			margin-top:0;
			> ul {
				width: 100%/3 - 2%;
				margin-right: -4px;

				&:first-child {
					margin-right: 0px;
				}
			}
		}
	}

	/* mega menu group links (level 3) */
	.sub-nav-group ul li a {
		font-size: 0.9375em;
		color: #2f2f2f;
	}
	.sub-nav-group ul li a:hover, .sub-nav-group ul li a:focus {
		text-decoration: underline;
	}

	/* decrease height of mega menu and add scroll bar */
	.mega-menu-scroll {
		//max-height: 300px;
		overflow: auto;
	}

	/* list item within sub-navigation panel */
	.sub-nav-mega li {
		display: block;
		list-style-type: none;
		/* spacing between links */
		margin: 8px 0 0 0;
		padding: 0;
	}

}

@include bp(xtra-large) {
	.nav-item > .nav-item-title > a {
		padding: 14px 20px 8px;
	}
}

.nav-menu .nav-item {
	$nav-max-lines: 1;
	@mixin nav-item-spacing($nav-item-list, $nav-item-width-add) {
		// calculate maximum number of lines
		@for $i from 1 through length($nav-item-list) {
			$nav-lines-tmp: map-get(nth($nav-item-list, $i), lines);
			@if ($nav-lines-tmp > $nav-max-lines) {
				$nav-max-lines: $nav-lines-tmp;
			}
		}

		$nav-desktop-breakpoints: ('large', 'xtra-large');
		@for $i from 1 through length($nav-item-list) {
			&.item-#{$i} {
				$nav-item: nth($nav-item-list, $i);

				@for $bp from 1 through length($nav-desktop-breakpoints) {
					@include bp(nth($nav-desktop-breakpoints, $bp)) {
						width: nth(map-get($nav-item, width), $bp) + nth($nav-item-width-add, $bp);
					};
				}
				line-height: $nav-max-lines / map-get($nav-item, lines) + 0em;
			}
		}
	}

	html[lang="es"] & {
		$nav-item-list: (
			//(width:(bp1  , bp2  ), lines: # )
			( width: (102px, 124px), lines: 1 ),
			( width: (154px, 174px), lines: 1 ),
			( width: (136px, 157px), lines: 1 ),
			( width: (137px, 158px), lines: 2 ),
			( width: (89px,  111px), lines: 1 ),
			( width: (96px,  118px), lines: 2 )
		);
		$nav-item-width-add: (5.5px, 9px);

		@include nav-item-spacing($nav-item-list, $nav-item-width-add);
	}

	line-height: $nav-max-lines + 0em;
}


#nvcgSlMainNav.searching {
	@include bp(small) {
		.mobile-menu-bar .menu-btn:before {
			left: 10%;
		}
		#siteSearchForm:before {
			width: 80%;
			left: 16%;
		}
		#swKeyword {
			width: 70%;
			left: 17.5%;
		}
	}
	#searchclear {
		@include bp(xtra-small) {
			top: 0.0625em;
		}
	}
}
