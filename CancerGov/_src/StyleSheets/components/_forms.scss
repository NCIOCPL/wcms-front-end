//
// Form Variables
//

// We use this to set the base for lots of form spacing and positioning styles

// $form-spacing: em-calc(16);

// We use these to style the labels in different ways

// $form-label-pointer: pointer;
$form-label-display: inline-block;
// $form-label-font-size: em-calc(14);
$form-label-font-weight: normal;
$form-label-font-color: #606060;
$form-label-line-height: 1em;
// $form-label-bottom-margin: em-calc(3);
// $input-font-family: inherit;
$input-font-color: #606060;
$input-font-size: em-calc(16);
$input-placeholder-font-family: inherit;
$input-placeholder-font-color: lighten($input-font-color, 30%);
$input-placeholder-font-size: inherit;
$input-placeholder-font-style: italic;
$input-bg-color: #f2f2f3;
$input-focus-bg-color: darken($input-bg-color, 2%);
$input-border-color: darken($input-bg-color, 20%);
$input-focus-border-color: darken($input-bg-color, 40%);
$input-border-style: solid;
$input-border-width: 1px;
// $input-disabled-bg: #ddd;
$input-box-shadow: 0px 2px 4px 0px rgba(242, 242, 243, 0.05) inset;
// $input-include-glowing-effect: true;

// We use these to style the fieldset border and spacing.

$fieldset-border-style: none;
$fieldset-border-width: 0px;
$fieldset-border-color: transparent;
$fieldset-padding: 0;
$fieldset-margin: 0;

// We use these to style the legends when you use them

// $legend-bg: #fff;
$legend-font-family: #{$montserrat-font-stack};
$legend-font-size: em-calc(22px);
$legend-font-weight: bold;
$legend-lineheight: em-calc(25px, 22px);
// $legend-padding: em-calc(0 3);

// We use these to style the prefix and postfix input elements

// $input-prefix-bg: darken(#fff, 5%);
// $input-prefix-border-color: darken(#fff, 20%);
// $input-prefix-border-size: 1px;
// $input-prefix-border-type: solid;
// $input-prefix-overflow: hidden;
// $input-prefix-font-color: #333;
// $input-prefix-font-color-alt: #fff;

// We use these to style the error states for inputs and labels

// $input-error-message-padding: em-calc(6 4);
// $input-error-message-top: 0;
// $input-error-message-font-size: em-calc(12);
// $input-error-message-font-weight: bold;
// $input-error-message-font-color: #fff;
// $input-error-message-font-color-alt: #333;

// We use this to style the glowing effect of inputs when focused

// $glowing-effect-fade-time: 0.45s;
// $glowing-effect-color: $input-focus-border-color;

// We use these to style the radio and checkbox inputs

// common (radios and checkboxes)
$custom-form-radiocheck-size: 1em;
$custom-form-radiocheck-spacing: 0.25em;
$custom-form-radiocheck-bg-color: white;
$custom-form-radiocheck-border-size: 2px;
$custom-form-radiocheck-border-color: #186d89;
$custom-form-radiocheck-border-color-disabled: #b0b0b0;
// radios only
$custom-form-radio-checked-bg-color: $custom-form-radiocheck-border-color;
$custom-form-radio-checked-bg-color-disabled: #ccc;
$custom-form-radio-radius: 0.5em;
// checkboxes only
$custom-form-checkbox-checked-bg-color: $custom-form-radiocheck-bg-color;
$custom-form-checkbox-checked-text-color: $body-font-color;
$custom-form-checkbox-radius: 0;

@mixin input-placeholder() {
  font-family: $input-placeholder-font-family;
  color: $input-placeholder-font-color;
  font-size: $input-placeholder-font-size;
  font-style: $input-placeholder-font-style;
}

/* Placeholder text styling */
input {
  &::-webkit-input-placeholder {
    @include input-placeholder();
  }
  &:-moz-placeholder {
    @include input-placeholder();
  }
  &::-moz-placeholder {
    @include input-placeholder();
  }
  &:-ms-input-placeholder {
    @include input-placeholder();
  }
}


/* Standard Forms */
form {
  margin: 0 0 $form-spacing;
}

/* Using forms within rows, we need to set some defaults */
form .row {
  @include form-row-base;
}

/* Label Styles */
label {
  @include form-label;
  display: $form-label-display;
  line-height: $form-label-line-height;

  &.right {
    @include form-label(right, false);
  }
  &.inline {
    @include form-label(inline, false);
  }
  /* Styles for required inputs */
  small {
    text-transform: capitalize;
    color: lighten($form-label-font-color, 10%);
  }
}

/* Attach elements to the beginning or end of an input */
.prefix,
.postfix {
  @include prefix-postfix-base;
}

/* Adjust padding, alignment and radius if pre/post element is a button */
.postfix.button {
  @include button-size(false, false, false);
  @include postfix(false, true);
}
.prefix.button {
  @include button-size(false, false, false);
  @include prefix(false, true);
}
.prefix.button.radius {
  @include radius(0);
  @include side-radius(left, $button-radius);
}
.postfix.button.radius {
  @include radius(0);
  @include side-radius(right, $button-radius);
}
.prefix.button.round {
  @include radius(0);
  @include side-radius(left, $button-round);
}
.postfix.button.round {
  @include radius(0);
  @include side-radius(right, $button-round);
}

/* Separate prefix and postfix styles when on span or label so buttons keep their own */
span.prefix,
label.prefix {
  @include prefix();

  &.radius {
    @include radius(0);
    @include side-radius(left, $global-radius);
  }
}
span.postfix,
label.postfix {
  @include postfix();

  &.radius {
    @include radius(0);
    @include side-radius(right, $global-radius);
  }
}

/* Input groups will automatically style first and last elements of the group */
.input-group {
  &.radius {
    &>*:first-child,
    &>*:first-child * {
      @include side-radius($default-float, $global-radius);
    }
    &>*:last-child,
    &>*:last-child * {
      @include side-radius($opposite-direction, $global-radius);
    }
  }
  &.round {
    &>*:first-child,
    &>*:first-child * {
      @include side-radius($default-float, $button-round);
    }
    &>*:last-child,
    &>*:last-child * {
      @include side-radius($opposite-direction, $button-round);
    }
  }
}

/* We use this to get basic styling on all basic form elements */
input[type="text"],
input[type="password"],
input[type="date"],
input[type="datetime"],
input[type="datetime-local"],
input[type="month"],
input[type="week"],
input[type="email"],
input[type="number"],
input[type="search"],
input[type="tel"],
input[type="time"],
input[type="url"],
textarea {
  -webkit-appearance: none;
  @include radius(0);

  @include form-element;
  @if not $input-include-glowing-effect {
    @include single-transition(all, 0.15s, linear);
  }
}

/* Adjust margin for form elements below */
input[type="file"],
input[type="checkbox"],
input[type="radio"],
select {
  margin: 0 0 $form-spacing;
}

/* Normalize file input width */
input[type="file"] {
  width:100%;
}

/* We add basic fieldset styling */
fieldset {
  @include fieldset;

  legend {
    font-family: $legend-font-family;
    font-size: $legend-font-size;
    line-height: $legend-lineheight;
  }
}
.legend {
  @extend legend;
}

/* Error Handling */

[data-abide] {
  .error small.error,
  span.error,
  small.error {
    @include form-error-message;
  }
  span.error,
  small.error {
    display: none;
  }
}
span.error,
small.error {
  @include form-error-message;
}
.error {
  input,
  textarea,
  select {
    @include form-error-color;
    margin-bottom: 0;
  }
  label,
  label.error {
    @include form-label-error-color;
  }
  > small,
  small.error {
    @include form-error-message;
  }
  span.error-message {
    display: block;
  }
}

input.error,
textarea.error {
  @include form-error-color;
  margin-bottom: 0;
}

.error select {
  @include form-error-color;
}

label.error {
  @include form-label-error-color;
}

@mixin radiocheck($type) {
  input[type="#{$type}"] {
    position: absolute;
    top: 0.25em;
    left: $custom-form-radiocheck-border-size / 2;
    opacity: 0;

    + label {
      position: relative;
      margin-left: $custom-form-radiocheck-size + $custom-form-radiocheck-spacing;

      &:before {
        content: "";
        position: absolute;
        left: -($custom-form-radiocheck-size + $custom-form-radiocheck-spacing);

        display: inline-block;
        text-align: center;
        line-height: $custom-form-radiocheck-size - $custom-form-radiocheck-spacing;
        border-style: solid;

        margin-right: $custom-form-radiocheck-spacing;
        width: $custom-form-radiocheck-size;
        height: $custom-form-radiocheck-size;
        background-color: $custom-form-radiocheck-bg-color;
        border-width: $custom-form-radiocheck-border-size;
        border-color: $custom-form-radiocheck-border-color;
      }
    }
    &:disabled {
      + label:before {
        border-color: $custom-form-radiocheck-border-color-disabled;
      }
    }
  }
}
/* Custom radio and checkbox styling
 * Note that these do not get applied to IE8 and below.
 */
html.borderradius.generatedcontent {
  .radio, .checkbox {
    position: relative;
  }
  .radio {
    @include radiocheck('radio');

    input[type=radio] {
      + label:before {
        @include radius($custom-form-radio-radius);
      }
      &:checked {
        + label:before {
          background-color: $custom-form-radio-checked-bg-color;
        }
        &:disabled + label:before {
          background-color: $custom-form-radio-checked-bg-color-disabled;
        }
      }
    }
  }
  .checkbox {
    @include radiocheck('checkbox');

    input[type=checkbox] {
      + label:before {
        @include radius($custom-form-checkbox-radius);
      }
      &:checked {
        + label:before {
          content: "\2713";

          background-color: $custom-form-checkbox-checked-bg-color;
          color: $custom-form-checkbox-checked-text-color;
        }
      }
    }
  }
}
